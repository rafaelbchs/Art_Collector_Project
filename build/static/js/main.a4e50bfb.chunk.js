(this.webpackJsonpart_collector_react=this.webpackJsonpart_collector_react||[]).push([[0],{12:function(e,t,a){"use strict";a.r(t);var n=a(3),r=a(0),c=a.n(r),s=a(5),l=a.n(s),u=function(){return c.a.createElement("div",{id:"title"},c.a.createElement("h1",null,"The Art Collector"),c.a.createElement("h5",null,"Search the Harvard Art Museums' Private Collections"))},i=a(1),o=a.n(i),m=a(2),p="https://api.harvardartmuseums.org",f="apikey=9c817fa2-f416-444e-86ec-718e9ac58211";function h(e,t){return d.apply(this,arguments)}function d(){return(d=Object(m.a)(o.a.mark((function e(t,a){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(p,"/object?").concat(f,"&").concat(t,"=").concat(encodeURI(a.split("-").join("|"))));case 3:return n=e.sent,e.next=6,n.json();case 6:return r=e.sent,e.abrupt("return",r);case 10:throw e.prev=10,e.t0=e.catch(0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function E(e){return v.apply(this,arguments)}function v(){return(v=Object(m.a)(o.a.mark((function e(t){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t);case 3:return a=e.sent,e.next=6,a.json();case 6:return n=e.sent,e.abrupt("return",n);case 10:throw e.prev=10,e.t0=e.catch(0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function b(e){return g.apply(this,arguments)}function g(){return(g=Object(m.a)(o.a.mark((function e(t){var a,n,r,c,s,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.century,n=t.classification,r=t.queryString,c="".concat(p,"/object?").concat(f,"&classification=").concat(n,"&century=").concat(a,"&keyword=").concat(r),e.prev=2,e.next=5,fetch(c);case 5:return s=e.sent,e.next=8,s.json();case 8:return l=e.sent,e.abrupt("return",l);case 12:throw e.prev=12,e.t0=e.catch(2),e.t0;case 15:case"end":return e.stop()}}),e,null,[[2,12]])})))).apply(this,arguments)}function y(){return S.apply(this,arguments)}function S(){return(S=Object(m.a)(o.a.mark((function e(){var t,a,n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!localStorage.getItem("centuries")){e.next=2;break}return e.abrupt("return",JSON.parse(localStorage.getItem("centuries")));case 2:return t="".concat(p,"/century?").concat(f,"&size=100&sort=temporalorder"),e.prev=3,e.next=6,fetch(t);case 6:return a=e.sent,e.next=9,a.json();case 9:return n=e.sent,r=n.records,localStorage.setItem("centuries",JSON.stringify(r)),e.abrupt("return",r);case 15:throw e.prev=15,e.t0=e.catch(3),e.t0;case 18:case"end":return e.stop()}}),e,null,[[3,15]])})))).apply(this,arguments)}function j(){return O.apply(this,arguments)}function O(){return(O=Object(m.a)(o.a.mark((function e(){var t,a,n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!localStorage.getItem("classifications")){e.next=2;break}return e.abrupt("return",JSON.parse(localStorage.getItem("classifications")));case 2:return t="".concat(p,"/classification?").concat(f,"&size=100&sort=name"),e.prev=3,e.next=6,fetch(t);case 6:return a=e.sent,e.next=9,a.json();case 9:return n=e.sent,r=n.records,localStorage.setItem("classifications",JSON.stringify(r)),e.abrupt("return",r);case 15:throw e.prev=15,e.t0=e.catch(3),e.t0;case 18:case"end":return e.stop()}}),e,null,[[3,15]])})))).apply(this,arguments)}function x(){return N.apply(this,arguments)}function N(){return(N=Object(m.a)(o.a.mark((function e(){var t,a,n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!localStorage.getItem("medium")){e.next=2;break}return e.abrupt("return",JSON.parse(localStorage.getItem("medium")));case 2:return t="".concat(p,"/classification?").concat(f,"&size=100&sort=name"),e.prev=3,e.next=6,fetch(t);case 6:return a=e.sent,e.next=9,a.json();case 9:return n=e.sent,r=n.records,localStorage.setItem("medium",JSON.stringify(r)),e.abrupt("return",r);case 15:throw e.prev=15,e.t0=e.catch(3),e.t0;case 18:case"end":return e.stop()}}),e,null,[[3,15]])})))).apply(this,arguments)}var w=function(e){var t=e.setSearchResults,a=e.setIsLoading,s=e.setFeaturedResult,l=Object(r.useState)([]),u=Object(n.a)(l,2),i=u[0],p=u[1],f=Object(r.useState)([]),h=Object(n.a)(f,2),d=h[0],E=h[1],v=Object(r.useState)(""),g=Object(n.a)(v,2),S=g[0],O=g[1],N=Object(r.useState)("any"),w=Object(n.a)(N,2),k=w[0],I=w[1],R=Object(r.useState)("any"),C=Object(n.a)(R,2),F=C[0],L=C[1],J=Object(r.useState)("any"),D=Object(n.a)(J,2),T=D[0],q=D[1],A=Object(r.useState)([]),V=Object(n.a)(A,2),M=V[0],P=V[1],_=Object(r.useState)([]),z=Object(n.a)(_,2),H=z[0],B=z[1];return Object(r.useEffect)((function(){try{Promise.all([y(),j(),x()]).then((function(e){var t=Object(n.a)(e,3),a=t[0],r=t[1],c=t[2];p(a),E(r),P(c)}))}catch(e){console.error(e)}}),[]),c.a.createElement("form",{id:"search",onSubmit:function(){var e=Object(m.a)(o.a.mark((function e(n){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),a(!0),e.prev=2,e.next=5,b({century:k,classification:F,medium:T,queryString:S});case 5:r=e.sent,t(r),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.error(e.t0);case 12:return e.prev=12,a(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[2,9,12,15]])})));return function(t){return e.apply(this,arguments)}}()},c.a.createElement("fieldset",null,c.a.createElement("label",{htmlFor:"keywords"},"Query"),c.a.createElement("input",{id:"keywords",type:"text",placeholder:"enter keywords...",value:S,onChange:function(){var e=Object(m.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O(t.target.value),e.prev=1,e.next=4,b({century:k,classification:F,medium:T,queryString:S});case 4:a=e.sent,B(a.records),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()}),c.a.createElement("ul",null,H.map((function(e){return c.a.createElement("li",{onClick:function(){s(e)}},e.title)})))),c.a.createElement("fieldset",null,c.a.createElement("label",{htmlFor:"select-classification"},"Classification ",c.a.createElement("span",{className:"classification-count"},"(",d.length,")")),c.a.createElement("select",{name:"classification",id:"select-classification",value:F,onChange:function(e){L(e.target.value)}},c.a.createElement("option",{value:"any"},"Any"),d.map((function(e,t){return c.a.createElement("option",{value:e.name,key:t},e.name)})))),c.a.createElement("fieldset",null,c.a.createElement("label",{htmlFor:"select-century"},"Century ",c.a.createElement("span",{className:"century-count"},"(",i.length,")")),c.a.createElement("select",{name:"century",id:"select-century",value:k,onChange:function(e){I(e.target.value)}},c.a.createElement("option",{value:"any"},"Any"),i.map((function(e,t){return c.a.createElement("option",{value:e.name,key:t},e.name)})))),c.a.createElement("fieldset",null,c.a.createElement("label",{htmlFor:"select-medium"},"Medium ",c.a.createElement("span",{className:"medium-count"},"(",M.length,")")),c.a.createElement("select",{name:"medium",id:"select-medium",value:T,onChange:function(e){q(e.target.value)}},c.a.createElement("option",{value:"any"},"Any"),M.map((function(e,t){return c.a.createElement("option",{value:e.name,key:t},e.name)})))),c.a.createElement("button",null,"SEARCH"))},k=function(e){var t=e.setSearchResults,a=e.setIsLoading,n=e.setFeaturedResult,r=e.searchResults,s=r.info,l=r.records;function u(e){return i.apply(this,arguments)}function i(){return(i=Object(m.a)(o.a.mark((function e(n){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(!0),e.prev=1,e.next=4,E(n);case 4:r=e.sent,t(r),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0);case 11:return e.prev=11,a(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})))).apply(this,arguments)}return c.a.createElement("aside",{id:"preview"},c.a.createElement("header",{className:"pagination"},c.a.createElement("button",{disabled:!s.prev,className:"previous",onClick:function(){u(s.prev)}},"Previous"),c.a.createElement("button",{disabled:!s.next,className:"next",onClick:function(){u(s.next)}},"Next")),c.a.createElement("section",{className:"results"},l.map((function(e,t){return c.a.createElement("div",{key:t,className:"object-preview",onClick:function(t){t.preventDefault(),n(e)}},e.primaryimageurl?c.a.createElement("img",{src:e.primaryimageurl,alt:e.description}):null,e.title?c.a.createElement("h3",null,e.title):c.a.createElement("h3",null,"MISSING INFO"))}))))},I=function(e){var t=e.searchTerm,a=e.searchValue,n=e.setIsLoading,r=e.setSearchResults;return c.a.createElement("span",{className:"content"},c.a.createElement("a",{href:"#",onClick:function(){var e=Object(m.a)(o.a.mark((function e(c){var s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.preventDefault(),n(!0),e.prev=2,e.next=5,h(t,a);case 5:s=e.sent,r(s),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.error(e.t0);case 12:return e.prev=12,n(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[2,9,12,15]])})));return function(t){return e.apply(this,arguments)}}()},a))},R=function(e){var t=e.featuredResult,a=e.setIsLoading,n=e.setSearchResults;if(!t)return c.a.createElement("main",{id:"feature"});var r=t.title,s=t.dated,l=t.images,u=(t.primaryimageurl,t.description),i=t.culture,o=(t.style,t.technique),m=t.medium,p=t.dimensions,f=t.people,h=t.department,d=t.division,E=t.contact,v=t.creditline;return c.a.createElement("main",{id:"feature"},c.a.createElement("div",{className:"object-feature"},c.a.createElement("header",null,c.a.createElement("h3",null,r),c.a.createElement("h4",null,s)),c.a.createElement("section",{className:"facts"},u?c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:"title"},"Description"),c.a.createElement("span",{className:"content"},u)):null,c.a.createElement("span",{className:"title"},"Culture"),c.a.createElement(I,{searchValue:i,searchTerm:"culture",setSearchResults:n,setIsLoading:a}),o?c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:"title"},"Technique"),c.a.createElement(I,{searchValue:o,searchTerm:"technique",setSearchResults:n,setIsLoading:a})):null,m?c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:"title"},"Medium"),c.a.createElement(I,{searchValue:m,searchTerm:"medium",setSearchResults:n,setIsLoading:a})):null,f?c.a.createElement(c.a.Fragment,null,f.map((function(e){return c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:"title"},"Person"),c.a.createElement(I,{searchValue:e.name,searchTerm:"person",setSearchResults:n,setIsLoading:a}))}))):null,p?c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:"title"},"Dimensions"),c.a.createElement("span",{className:"content"},p)):null,h?c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:"title"},"Department"),c.a.createElement("span",{className:"content"},h)):null,c.a.createElement("span",{className:"title"},"Division"),c.a.createElement("span",{className:"content"},d),E?c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:"title"},"Contact"),c.a.createElement("span",{className:"content"},c.a.createElement("a",{href:"#"},E))):null,c.a.createElement("span",{className:"title"},"CreditLine"),c.a.createElement("span",{className:"content"},v)),c.a.createElement("section",{className:"photos"},l.map((function(e){return c.a.createElement("img",{src:e.baseimageurl,alt:"any"})})))))},C=function(){return c.a.createElement("div",{id:"loading"},c.a.createElement("h2",{className:"message"},"Searching..."))},F=function(){var e=Object(r.useState)({info:{},records:[]}),t=Object(n.a)(e,2),a=t[0],s=t[1],l=Object(r.useState)(null),i=Object(n.a)(l,2),o=i[0],m=i[1],p=Object(r.useState)(!1),f=Object(n.a)(p,2),h=f[0],d=f[1];return c.a.createElement("div",{className:"app"},c.a.createElement(u,null),c.a.createElement(w,{setFeaturedResult:m,setIsLoading:d,setSearchResults:s}),c.a.createElement(k,{searchResults:a,setSearchResults:s,setIsLoading:d,setFeaturedResult:m}),c.a.createElement(R,{featuredResult:o,setSearchResults:s,setIsLoading:d}),h?c.a.createElement(C,null):null," ")};l.a.render(c.a.createElement(F,null),document.getElementById("app"))},6:function(e,t,a){e.exports=a(12)}},[[6,1,2]]]);
//# sourceMappingURL=main.a4e50bfb.chunk.js.map